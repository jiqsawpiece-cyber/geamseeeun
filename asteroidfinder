import streamlit as st
import requests
from bs4 import BeautifulSoup

st.title("ğŸ”­ ì˜¤ëŠ˜ì˜ ì†Œí–‰ì„± ì°¾ê¸°")
st.write("ì˜¤ëŠ˜ì˜ ê±¸ìŒìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš” ğŸ‘£")

num = st.number_input("ê±¸ìŒ ìˆ˜", min_value=1, step=1)

if st.button("ê²€ìƒ‰"):
    search_url = f"https://www.spacereference.org/search?q={num}"
    response = requests.get(search_url)

    if response.status_code == 200:
        soup = BeautifulSoup(response.text, "html.parser")
        result_link = soup.find("a", href=True)

        if result_link:
            full_url = "https://www.spacereference.org" + result_link["href"]
            asteroid_page = requests.get(full_url)
            if asteroid_page.status_code == 200:
                page_soup = BeautifulSoup(asteroid_page.text, "html.parser")
                title_tag = page_soup.find("h1")
                if title_tag:
                    asteroid_name = title_tag.text.strip()
                    st.success(f"âœ¨ {num}ë²ˆ ì†Œí–‰ì„±ì˜ ì´ë¦„ì€ **{asteroid_name}** ì…ë‹ˆë‹¤!")
                else:
                    st.error("ì†Œí–‰ì„± ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
            else:
                st.error("ì†Œí–‰ì„± ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        else:
            st.warning("í•´ë‹¹ ë²ˆí˜¸ì˜ ì†Œí–‰ì„±ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
    else:
        st.error("ê²€ìƒ‰ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
